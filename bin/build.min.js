(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c){return c(i,!0);}if(u){return u(i,!0);}var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a;}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r);},p,p.exports,r,e,n,t);}return n[i].exports;}for(var u="function"==typeof require&&require,i=0;i<t.length;i++){o(t[i]);}return o;}return r;})()({1:[function(require,module,exports){function App(){var _controllers=require("../controllers.js");this.dataLocationsCache={location_search:[]};this.init=function(){var locationSearch=new _controllers.LocationSearch();var locationPrevious=new _controllers.LocationPrevious();var locationImages=new _controllers.LocationImages();locationSearch.setViewForm($("#LocationSearch"),null,function(err,locationSearchRes){if(err){alert(err);return;}window.App.dataLocationsCache.location_search.push(locationSearchRes);locationPrevious.setViewList($("#LocationPrevious"),window.App.dataLocationsCache.location_search,window.App.handleDoLocationSelectUi);});locationPrevious.handleSetViewList($("#LocationPrevious"),window.App.dataLocationsCache.location_search,window.App.handleDoLocationSelectUi);LocationImages.setView($("#LocationImages"),null,window.App.handleDoImageSelectUi);};this.handleDoLocationSelectUi=function(locationId){var locationSearch=window.App.dataLocationsCache.location_search;var location={};for(var locationSearchKey in locationSearch){if(parseInt(locationSearch[locationSearchKey].location_id)===parseInt(locationId)){location=locationSearch[locationSearchKey];break;}}var locationImages=new _controllers.LocationImages();LocationImages.setView($("#LocationImages"),location,window.App.handleDoImageSelectUi);};this.handleDoImageSelectUi=function(){};window.App=this;}module.exports=App;},{"../controllers.js":6}],2:[function(require,module,exports){function LayoutLand(){var _views=require("../../views/views.js");this.handleGetViewWrapper=function(){var wrapper=_views.LayoutLand.wrapper;return wrapper;};}module.exports=LayoutLand;},{"../../views/views.js":17}],3:[function(require,module,exports){function LocationImages(){var _utils=require("../../utils/utils.js");var _views=require("../../views/views.js");var _models=require("../../models/models.js");this.callbackCache=null;this.setView=function(el,location,cb){window.LocationImages.callbackCache=cb;var content=_views.LocationImages.content;var contentView=content.replace(new RegExp("%location-images-list%","g"),"%stringz_locationimages_locationbasedimages%");var contentViewBound=_utils.ViewModel.bindDataToUi(contentView,(location||new _models.Location()));el.html(_utils.Stringz.bindStringsToUi(contentViewBound));};window.LocationImages=this;}module.exports=LocationImages;},{"../../models/models.js":9,"../../utils/utils.js":16,"../../views/views.js":17}],4:[function(require,module,exports){function LocationPrevious(){var _utils=require("../../utils/utils.js");var _views=require("../../views/views.js");var _models=require("../../models/models.js");this.callbackCache=null;this.setViewList=function(el,locationPrevious,cb){window.LocationPrevious.callbackCache=cb;var content=_views.LocationPrevious.content;var list=_views.List.list;var listItem=_views.Location.listItem;var listItem=listItem.replace(new RegExp("%function%","g"),"LocationPrevious.handleDoSelectLocationPreviousUi");var contentViewBound=_utils.ViewModel.bindDataToListUi(list,listItem,(locationPrevious||[new _models.Location()]));contentViewBound=content.replace(new RegExp("%location-previous-list%","g"),contentViewBound);el.html(_utils.Stringz.bindStringsToUi(contentViewBound));};this.handleSetViewList=function(el,cache,cb){window.LocationPrevious.callbackCache=cb;_utils.Store.get(new _models.Location(),function(err,locationPreviousRes){for(var locationPreviousResKey in locationPreviousRes){cache.push(locationPreviousRes[locationPreviousResKey]);}window.LocationPrevious.setViewList(el,locationPreviousRes,cb);});};this.handleDoSelectLocationPreviousUi=function(el){window.LocationPrevious.callbackCache($(el).attr("id"));};window.LocationPrevious=this;}module.exports=LocationPrevious;},{"../../models/models.js":9,"../../utils/utils.js":16,"../../views/views.js":17}],5:[function(require,module,exports){function LocationSearch(){var _utils=require("../../utils/utils.js");var _views=require("../../views/views.js");var _models=require("../../models/models.js");this.callbackCache=null;this.setViewForm=function(el,locationSearch,cb){window.LocationSearch.callbackCache=cb;var content=_views.LocationSearch.content;var form=_views.Location.form;var contentView=content.replace(new RegExp("%location-search-form%","g"),form);var contentViewBound=_utils.ViewModel.bindDataToUi(contentView,(locationSearch||new _models.Location()));el.html(_utils.Stringz.bindStringsToUi(contentViewBound));};this.handleDoLocationSearchUi=function(el){var locationSearch=_utils.ViewModel.getDataFromUi($("#location-search"),new _models.Location());if(!locationSearch.location_name||locationSearch.location_name===""){_utils.Validation.setUiFailed($("#location-search"),["location_name"]);return;}_utils.Validation.setUiPassed($("#location-search"),["location_name"]);window.LocationSearch.handleDoLocationSearchReq(locationSearch);};this.handleDoLocationSearchReq=function(locationSearch){_utils.Store.get(locationSearch,function(err,locationSearchRes){if(window.LocationSearch.callbackCache){window.LocationSearch.callbackCache(err,locationSearchRes);}});};window.LocationSearch=this;}module.exports=LocationSearch;},{"../../models/models.js":9,"../../utils/utils.js":16,"../../views/views.js":17}],6:[function(require,module,exports){module.exports.App=require("./App/App.js");module.exports.LayoutLand=require("./LayoutLand/LayoutLand.js");module.exports.LocationSearch=require("./LocationSearch/LocationSearch.js");module.exports.LocationPrevious=require("./LocationPrevious/LocationPrevious.js");module.exports.LocationImages=require("./LocationImages/LocationImages.js");},{"./App/App.js":1,"./LayoutLand/LayoutLand.js":2,"./LocationImages/LocationImages.js":3,"./LocationPrevious/LocationPrevious.js":4,"./LocationSearch/LocationSearch.js":5}],7:[function(require,module,exports){var _utils=require("./utils/utils.js");var _controllers=require("./controllers/controllers.js");var layoutLand=new _controllers.LayoutLand();var app=new _controllers.App();if(_utils.Layout.isLayoutLand()){var layout=layoutLand.handleGetViewWrapper();}else{}$("#main").html(layout);app.init();},{"./controllers/controllers.js":6,"./utils/utils.js":16}],8:[function(require,module,exports){function Location(args){this.meta={storeName:"Location",storeAffinity:"remote"};this.location_id=(args)?args.location_id:undefined;this.location_name=(args)?args.location_name:undefined;this.location_lat=(args)?args.location_lat:undefined;this.location_lng=(args)?args.location_lng:undefined;this.location_timestamp=(args)?args.location_timestamp:undefined;this.location_active=(args)?args.location_active:undefined;}module.exports=Location;},{}],9:[function(require,module,exports){module.exports.Location=require("./Location/Location.js");},{"./Location/Location.js":8}],10:[function(require,module,exports){function Layout(){this.isLayoutLand=function(){return true;};}module.exports=new Layout();},{}],11:[function(require,module,exports){function Store(){var _API_URL="http://localhost:8888/api/";this.get=function(ctx,cb){var getReqUrl="?type="+ctx.meta.storeName;for(var ctxKey in ctx){if(ctxKey==="meta"||ctx[ctxKey]===undefined){continue;}getReqUrl+="&"+ctxKey+"="+ctx[ctxKey];}$.ajax({url:_API_URL+getReqUrl,method:"GET"}).done(function(res){cb(null,JSON.parse(res));}).fail(function(res){cb(res.status+" // "+res.responseText,null);});};}module.exports=new Store();},{}],12:[function(require,module,exports){function Stringz(){var _stringzEn=require("./stringz-en.js");this.bindStringsToUi=function(ui){var returnUi=ui;var myLanguageSettingIsEnglish=true;if(myLanguageSettingIsEnglish){stringz=_stringzEn;}for(stringzKey in stringz){returnUi=returnUi.replace(new RegExp(stringz[stringzKey].stringz_key,"g"),stringz[stringzKey].stringz_content);}return returnUi;};}module.exports=new Stringz();},{"./stringz-en.js":13}],13:[function(require,module,exports){module.exports=[{stringz_key:"%stringz_main_goback%",stringz_content:"Go Back"},{stringz_key:"%stringz_btn_search%",stringz_content:"Click to Search"},{stringz_key:"%stringz_location_name%",stringz_content:"location"},{stringz_key:"%stringz_location_searchforlocation%",stringz_content:"Search for Location"},{stringz_key:"%stringz_locationimages_locationbasedimages%",stringz_content:"location based images"}];},{}],14:[function(require,module,exports){function Validation(){this.setUiFailed=function(el,props){for(var propsKey in props){el.find("#"+props[propsKey]).addClass("border-red");}};this.setUiPassed=function(el,props){for(var propsKey in props){el.find("#"+props[propsKey]).removeClass("border-red");}};}module.exports=new Validation();},{}],15:[function(require,module,exports){function ViewModel(){this.bindDataToListUi=function(list,listItem,ctx){var returnUi="";var listItemUi="";for(var ctxKey in ctx){listItemUi+=this.bindDataToUi(listItem,ctx[ctxKey]);}returnUi=list.replace(new RegExp("%list-items%","g"),listItemUi);return returnUi;};this.bindDataToUi=function(ui,ctx){var returnUi=ui;for(var ctxKey in ctx){if(ctxKey==="meta"){continue;}if(!ctx[ctxKey]){ctx[ctxKey]="";}returnUi=returnUi.replace(new RegExp("%"+ctxKey+"%","g"),ctx[ctxKey]);}return returnUi;};this.getDataFromUi=function(el,ctx){var returnCtx=ctx;for(var ctxKey in ctx){if(ctxKey==="meta"){continue;}if(el.find("#"+ctxKey).length===0){continue;}returnCtx[ctxKey]=el.find("#"+ctxKey).val().trim();}return returnCtx;};}module.exports=new ViewModel();},{}],16:[function(require,module,exports){module.exports.Layout=require("./Layout/Layout.js");module.exports.Stringz=require("./Stringz/Stringz.js");module.exports.Validation=require("./Validation/Validation.js");module.exports.ViewModel=require("./ViewModel/ViewModel.js");module.exports.Stringz=require("./Stringz/Stringz.js");module.exports.Store=require("./Store/Store.js");},{"./Layout/Layout.js":10,"./Store/Store.js":11,"./Stringz/Stringz.js":12,"./Validation/Validation.js":14,"./ViewModel/ViewModel.js":15}],17:[function(require,module,exports){module.exports.LayoutLand=new function(){this.wrapper='\n<!-- new location section -->\n<div id="LocationSearch" class="width-30 height-100 float-left">\n</div>\n\n<!-- spacer -->\n<div class="width-5 float-left"> &nbsp; </div>\n\n\n<!-- previous location section -->\n<div id="LocationPrevious" class="width-30 height-100 float-left">\n</div>\n\n<!-- spacer -->\n<div class="width-5 float-left"> &nbsp; </div>\n\n<!-- location images section -->\n<div id="LocationImages" class="width-30 height-100 float-left">\n</div>';};module.exports.LocationSearch=new function(){this.content='\n<!-- location search content -->\n<div id="location-search" class="ui-widgets-layout">\n\n\t<div id="location-search-form">\n\t\t%location-search-form%\n\t</div>\n\t\n\t<!-- spacer -->\n\t<div class="width-100 height-25"> &nbsp; </div>\n\t\n\t<div id="location-search-controls">\n\t\n\t\t<button type="button" onClick="LocationSearch.handleDoLocationSearchUi( this );" class="max-width-300 margin-auto" alt="%stringz_btn_search%" title="%stringz_btn_search%">%stringz_location_searchforlocation%</button>\n\t\n\t</div>\n\t\n</div>';};module.exports.LocationPrevious=new function(){this.content='\n<!-- location previous content -->\n<div id="location-previous" class="ui-widgets-layout">\n\n\t<div id="location-previous-list">\n\t\t%location-previous-list%\n\t</div>\n\t\n</div>';};module.exports.LocationImages=new function(){this.content='\n<!-- location images content -->\n<div id="location-images" class="ui-widgets-layout">\n\n\t<div id="location-images-name">\n\t\t%location_name%\n\t</div>\n\n\t<div id="location-images-list">\n\t\t%location-images-list%\n\t</div>\n\t\n</div>';};module.exports.Location=new function(){this.form='\n<!-- location form -->\n<input type="text" value="%location_name%" placeholder="%stringz_location_name%" name="location_name" id="location_name" class="max-width-300 margin-auto" />';this.listItem='\n<!-- location list item -->\n<li onClick="%function%(this);" id="%location_id%">\n    <span>%location_name%</span>\n</li>';};module.exports.List=new function(){this.list="\n<!-- list -->\n<ul>\n    %list-items%\n</ul>";};},{}]},{},[7]);